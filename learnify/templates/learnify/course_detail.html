{% extends 'learnify/base.html' %}

{% block content %}
    <div class="course-preview-container">
        <video class="preview-video" width="83.33%" controls>
            <source src="/media/{{course.preview_video}}" type="video/webm">
            Your browser does not support HTML5 video.
        </video>
        <div class="course-description course-preview-details">
            <a href="{% url 'course_detail' pk=course.id %}">
                <h3 class="course-title">{{ course.title }}</h3><br>
                <p>{{course.description}}</p>
                <form action =  "{% url 'charge' pk=course.id %}" method="post">
                    {% csrf_token %}
                    <script src="https://checkout.stripe.com/checkout.js" 
                    class="stripe-button" 
                    data-key="{{stripe_key}}"
                    data-description="{{course.title}}" 
                    data-amount="{{course.price}}" 
                    data-locale="auto" 
                    data-label="Purchase Course">
                    </script>
                </form>
            </a>
        </div>
    </div>
{% endblock %}